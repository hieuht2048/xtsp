(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{217:function(e,t,a){"use strict";a.r(t);var r=a(18),n=a(19),o=a(21),s=a(20),c=a(22),l=a(0),i=a.n(l),u=a(219),m=a(216),h=a(33),d=a(12),g=a(32),p=a(258),b=a.n(p),P=a(11),f=a.n(P),w=a(240),j=a(237),y=a(269),v=a(222),O=a(226),E=a(225);function k(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var x=a(322),I=a(274),S=a(44),N=a.n(S),T=a(241),M=a(236),C=a(220),A=N.a.mark(z),H=N.a.mark(J),W=N.a.mark(D),K=N.a.mark(F);function z(e){var t,a,r,n,o,s;return N.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(T.b)(M.a.getHomePosts,t);case 4:return a=c.sent,r=C.a.getImages(a.data.items),n=C.a.getPrice(r),o=C.a.getCurrency(n),s=null,a.data.nextPageToken&&(s=a.data.nextPageToken),c.next=12,Object(T.a)([Object(T.c)({type:I.c,homePosts:o}),Object(T.c)(Object(j.h)(s))]);case 12:c.next=20;break;case 14:return c.prev=14,c.t0=c.catch(1),c.next=18,Object(T.c)({type:I.a,error:c.t0.response.data});case 18:return c.next=20,Object(T.c)(Object(j.h)(null));case 20:case"end":return c.stop()}},A,null,[[1,14]])}function J(e){var t,a;return N.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(T.b)(M.a.getPage,t);case 4:return a=r.sent,r.next=7,Object(T.a)([Object(T.c)({type:I.i,promotionPage:a.data})]);case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(T.c)({type:I.g,error:r.t0.response.data});case 13:case"end":return r.stop()}},H,null,[[1,9]])}function D(e){var t,a,r,n,o,s;return N.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(T.b)(M.a.getHomePosts,t);case 4:return a=c.sent,r=C.a.getImages(a.data.items),n=C.a.getPrice(r),o=C.a.getCurrency(n),s=null,a.data.nextPageToken&&(s=a.data.nextPageToken),c.next=12,Object(T.a)([Object(T.c)({type:I.f,morePosts:o}),Object(T.c)(Object(j.h)(s))]);case 12:c.next=21;break;case 14:return c.prev=14,c.t0=c.catch(1),console.log(c.t0),c.next=19,Object(T.c)(Object(j.c)(c.t0.response.data));case 19:return c.next=21,Object(T.c)(Object(j.h)(null));case 21:case"end":return c.stop()}},W,null,[[1,14]])}function F(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.e)(I.b,z);case 2:return e.next=4,Object(T.e)(I.e,D);case 4:return e.next=6,Object(T.e)(I.h,J);case 6:case"end":return e.stop()}},K)}var R=a(262),U=a(238),q=a(265),B=a(63),G=f()({loader:function(){return a.e(18).then(a.bind(null,246))},loading:function(){return null},modules:["post-list"]}),L=f()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(13)]).then(a.bind(null,213))},loading:function(){return null},modules:["sam"]}),Q=f()({loader:function(){return Promise.all([a.e(1),a.e(17)]).then(a.bind(null,248))},loading:function(){return null},modules:["latest-post"]}),V=f()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(11)]).then(a.bind(null,214))},loading:function(){return null},modules:["nuoc-hoa"]}),X=f()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(14)]).then(a.bind(null,215))},loading:function(){return null},modules:["san-pham-khac"]}),Y=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).handleSelectPost=function(e){(0,a.props.selectPost)(e.id)},a.clearSearch=function(){var e=a.props,t=e.saveKeyword,r=e.setIsSearch;t(!1),r(!1)},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getPromotionPage)(B.h)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.setIsSearch,a=e.resetHomePosts,r=e.saveKeyword;a(),t(!1),r(!1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.homePosts,r=t.match,n=t.keyword,o=t.isSearch,s=t.promotionPage,c=t.history;return a.waiting?i.a.createElement("div",{className:"loading-wrp"},i.a.createElement(U.a,{size:30})):i.a.createElement(w.b,{container:!0,className:"item-container home"},s.waiting?i.a.createElement("div",{className:"promotion"},i.a.createElement("div",{className:"loading-wrp"},i.a.createElement(U.a,{size:22}))):s.data?i.a.createElement("div",{className:"promotion"},b()(s.data.content)):null,i.a.createElement("div",{className:"container-left main-ct-left"},o&&i.a.createElement(w.b,{className:"search-result-info-wrp"},i.a.createElement("div",{className:"search-result-info"},1===a.length?"There is "+a.data.length+" result":"There are "+a.data.length+" results"," ","for ",i.a.createElement("span",{className:"bold"},n)),i.a.createElement(w.a,{className:"btn btn-warning search-result-action",onClick:this.clearSearch},"Clear")),o?a.data?i.a.createElement(u.a,null,i.a.createElement(m.a,{path:"".concat(r.url),render:function(t){return i.a.createElement(w.b,{className:"list-box"},i.a.createElement(w.b,{className:"list"},i.a.createElement(G,Object.assign({home:!0,keyword:n},t,{isSearch:o,posts:a.data,onHandleSelectPost:e.handleSelectPost}))))}}),i.a.createElement(m.a,{component:R.default})):i.a.createElement(w.b,{container:!0,className:"item-container"},i.a.createElement(w.b,{className:"search-result-info-wrp"},i.a.createElement("div",{className:"search-result-info"},"There is not result for your keyword:"," ",i.a.createElement("span",{className:"bold"},n)," "),i.a.createElement(w.a,{className:"btn btn-warning search-result-action",onClick:this.clearSearch},"Clear"))):i.a.createElement(i.a.Fragment,null,i.a.createElement(L,{match:r,home:!0,history:c}),i.a.createElement(V,{match:r,home:!0,history:c}),i.a.createElement(X,{match:r,home:!0,history:c}))),i.a.createElement("div",{className:"container-right main-ct-right"},i.a.createElement(w.b,{container:!0,className:"right-box"},i.a.createElement("h3",null,"M\u1edbi nh\u1ea5t"),i.a.createElement(Q,{history:c,selectedPost:!1,onHandleSelectPost:this.handleSelectPost}))))}}]),t}(l.Component);Y.defaultProps={keyword:!1};var Z=Object(g.b)({homePosts:Object(q.a)(),isSearch:Object(q.b)(),keyword:Object(q.c)(),promotionPage:Object(q.e)()}),$={selectPost:v.d,setIsSearch:j.g,resetHomePosts:j.e,saveKeyword:j.f,getPromotionPage:j.d,getPosts:y.a},_=Object(h.c)(Z,$),ee=Object(O.a)({key:"homeReducer",reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.b:return e.setIn(["homePosts","data"],!1).setIn(["homePosts","waiting"],!0).setIn(["homePosts","error"],!1);case I.c:return e.setIn(["homePosts","data"],t.homePosts).setIn(["homePosts","waiting"],!1).setIn(["homePosts","error"],!1);case I.a:return e.setIn(["homePosts","data"],!1).setIn(["homePosts","waiting"],!1).setIn(["homePosts","error"],t.error);case I.h:return e.setIn(["promotionPage","data"],!1).setIn(["promotionPage","waiting"],!0).setIn(["promotionPage","error"],!1);case I.i:return e.setIn(["promotionPage","data"],t.promotionPage).setIn(["promotionPage","waiting"],!1).setIn(["promotionPage","error"],!1);case I.g:return e.setIn(["promotionPage","data"],!1).setIn(["promotionPage","waiting"],!1).setIn(["promotionPage","error"],t.error);case I.m:return e.set("nextPageToken",t.nextPageToken);case I.e:return e.set("getMorePostWaiting",!0).set("getMorePostError",!1);case I.f:return e.set("getMorePostWaiting",!1).set("getMorePostError",!1).updateIn(["homePosts","data"],function(e){return[].concat(k(e),k(t.morePosts))});case I.d:return e.set("getMorePostWaiting",!1).set("getMorePostError",t.error);case I.l:return console.log("isSearch",t.isSearch),e.set("isSearch",t.isSearch);case I.j:return e.setIn(["homePosts","data"],!1);case I.k:return console.log("keyword",t.keyword),e.set("keyword",t.keyword);default:return e}}}),te=Object(E.a)({key:"homeSaga",saga:F});t.default=Object(d.c)(ee,te,_)(Y)}}]);
//# sourceMappingURL=4.56a7cf8a.chunk.js.map