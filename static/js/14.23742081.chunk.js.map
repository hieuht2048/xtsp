{"version":3,"sources":["containers/Detail/selectors.js","containers/Detail/LatestPosts.js","containers/Detail/initialState.js","containers/Detail/reducer.js","containers/Detail/saga.js","components/commons/LoadingComponent.js"],"names":["__webpack_require__","d","__webpack_exports__","makeSelectSamePosts","makeSelectPost","makeSelectLatestPosts","makeSelectSelectedPost","reselect__WEBPACK_IMPORTED_MODULE_0__","_initialState__WEBPACK_IMPORTED_MODULE_1__","detailSelector","state","get","initialState","createSelector","toJS","LatestPosts","onHandleSelectPost","post","_this","props","getLatestPosts","this","_this2","_this$props","latestPosts","selectedPost","latestPostsFiltered","waiting","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_10___default","container","spacing","className","_components_commons_LoadingComponent__WEBPACK_IMPORTED_MODULE_15__","data","cloneDeep","filter","id","length","pop","map","postUrl","Utils","convertStringToURL","title","uri","labels","key","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","to","onClick","src","images","alt","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_11___default","gutterBottom","variant","component","price","currency","Component","mapStateToProps","createStructuredSelector","mapDispatchToProps","withConnect","connect","withReducer","injectReducer","reducer","withSaga","injectSaga","saga","compose","immutable__WEBPACK_IMPORTED_MODULE_0__","fromJS","samePosts","error","_initialState__WEBPACK_IMPORTED_MODULE_0__","_consts__WEBPACK_IMPORTED_MODULE_1__","arguments","undefined","action","type","consts","setIn","set","getSamePostsSaga","getLatestPostsSaga","getSelectedPostSaga","root","checkLabel","posts","itemIndex","items","splice","_ref","payload","postsIncludedImages","postsIncludedPrice","postsIncludedCurrency","postsIncludedProductInfo","C_Users_hieuh_Desktop_Projects_xtsp_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","wrap","_context","prev","next","call","services","getPosts","sent","utils","getImages","getPrice","getCurrency","getProductInfo","all","put","t0","response","stop","_marked","_context2","getLatestPost","_marked2","_ref2","_context3","getSelectedPost","_marked3","_context4","takeLatest","_marked4","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_LinearProgress__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_LinearProgress__WEBPACK_IMPORTED_MODULE_2___default","withStyles","flexGrow","classes","color"],"mappings":"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","file":"static/js/14.23742081.chunk.js","sourcesContent":["import { createSelector } from 'reselect';\r\nimport initialState from './initialState';\r\n\r\nconst detailSelector = state => state.get('detailReducer', initialState);\r\n\r\nconst makeSelectSamePosts = () =>\r\n    createSelector(\r\n        detailSelector,\r\n        state => state.get('samePosts').toJS()\r\n    );\r\n\r\nconst makeSelectPost = () =>\r\n    createSelector(\r\n        detailSelector,\r\n        state => state.get('post').toJS()\r\n    );\r\n\r\nconst makeSelectLatestPosts = () =>\r\n    createSelector(\r\n        detailSelector,\r\n        state => state.get('latestPosts').toJS()\r\n    );\r\n\r\nconst makeSelectSelectedPost = () =>\r\n    createSelector(\r\n        detailSelector,\r\n        state => state.get('selectedPost')\r\n    );\r\n\r\nexport {\r\n    makeSelectSamePosts,\r\n    makeSelectPost,\r\n    makeSelectLatestPosts,\r\n    makeSelectSelectedPost\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport cloneDeep from 'lodash.clonedeep';\r\nimport { compose } from 'redux';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport Utils from '../../utils';\r\nimport { makeSelectLatestPosts } from './selectors';\r\n\r\nimport LoadingComponent from '../../components/commons/LoadingComponent';\r\n\r\nimport { getLatestPosts } from './actions';\r\n\r\nimport injectReducer from '../../utils/injectReducer';\r\nimport injectSaga from '../../utils/injectSaga';\r\nimport reducer from './reducer';\r\nimport saga from './saga';\r\n\r\nclass LatestPosts extends Component {\r\n    componentDidMount() {\r\n        const { getLatestPosts } = this.props;\r\n        getLatestPosts();\r\n    }\r\n\r\n    onHandleSelectPost = post => {\r\n        const { onHandleSelectPost } = this.props;\r\n        onHandleSelectPost(post);\r\n    };\r\n\r\n    render() {\r\n        const { latestPosts, selectedPost } = this.props;\r\n        let latestPostsFiltered = [];\r\n\r\n        if (latestPosts.waiting) {\r\n            return (\r\n                <Grid container spacing={32} className=\"latest-post\">\r\n                    <LoadingComponent />\r\n                </Grid>\r\n            );\r\n        }\r\n\r\n        if (latestPosts.data) {\r\n            if (selectedPost) {\r\n                const latestPostsCloned = cloneDeep(latestPosts.data);\r\n                latestPostsFiltered = latestPostsCloned.filter(\r\n                    post => post.id !== selectedPost.id\r\n                );\r\n\r\n                if (latestPostsFiltered.length > 10) {\r\n                    latestPostsFiltered = latestPostsFiltered.pop();\r\n                }\r\n            } else {\r\n                latestPostsFiltered = latestPosts.data;\r\n            }\r\n        }\r\n\r\n        if (latestPostsFiltered.length <= 0) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <div className=\"latest-post\">\r\n                {latestPostsFiltered.map(post => {\r\n                    const postUrl = Utils.convertStringToURL(post.title);\r\n                    const uri =\r\n                        '/' +\r\n                        post.labels[0] +\r\n                        '/' +\r\n                        postUrl +\r\n                        '-idpx' +\r\n                        post.id +\r\n                        '.html';\r\n                    return (\r\n                        <div\r\n                            key={post.id}\r\n                            className=\"col-l-12 col-12 col-s-6 post-item\"\r\n                        >\r\n                            <Link\r\n                                to={uri}\r\n                                onClick={() => this.onHandleSelectPost(post)}\r\n                            >\r\n                                <div className=\"img\">\r\n                                    <img\r\n                                        src={post.images[0]}\r\n                                        alt={post.title}\r\n                                    />\r\n                                </div>\r\n                                <Typography\r\n                                    className=\"card-title\"\r\n                                    gutterBottom\r\n                                    variant=\"h5\"\r\n                                    component=\"h4\"\r\n                                >\r\n                                    {post.title}\r\n                                </Typography>\r\n                                {post.price && (\r\n                                    <div className=\"price\">\r\n                                        {post.price}\r\n                                        {post.currency && (\r\n                                            <span className=\"currency\">\r\n                                                {post.currency}\r\n                                            </span>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                            </Link>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nLatestPosts.propTypes = {\r\n    latestPosts: PropTypes.object.isRequired,\r\n    onHandleSelectPost: PropTypes.func.isRequired,\r\n    getLatestPosts: PropTypes.func.isRequired,\r\n    selectedPost: PropTypes.oneOfType([PropTypes.bool, PropTypes.object])\r\n        .isRequired\r\n};\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    latestPosts: makeSelectLatestPosts()\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    getLatestPosts\r\n};\r\n\r\nconst withConnect = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n);\r\n\r\nconst withReducer = injectReducer({ key: 'detailReducer', reducer });\r\nconst withSaga = injectSaga({ key: 'detailSaga', saga });\r\n\r\nexport default compose(\r\n    withReducer,\r\n    withSaga,\r\n    withConnect\r\n)(LatestPosts);\r\n","import { fromJS } from 'immutable';\r\n\r\nexport default fromJS({\r\n    samePosts: {\r\n        waiting: false,\r\n        error: false,\r\n        data: false\r\n    },\r\n    post: {\r\n        waiting: false,\r\n        error: false,\r\n        data: false\r\n    },\r\n    latestPosts: {\r\n        waiting: false,\r\n        error: false,\r\n        data: false\r\n    },\r\n    selectedPost: false\r\n});\r\n","import initialState from './initialState';\r\nimport * as consts from './consts';\r\n\r\nexport default function(state = initialState, action) {\r\n    switch (action.type) {\r\n        case consts.GET_SAME_POSTS_REQUEST:\r\n            return state\r\n                .setIn(['samePosts', 'waiting'], true)\r\n                .setIn(['samePosts', 'error'], false);\r\n        case consts.GET_SAME_POSTS_SUCCESS:\r\n            return state\r\n                .setIn(['samePosts', 'waiting'], false)\r\n                .setIn(['samePosts', 'error'], false)\r\n                .setIn(['samePosts', 'data'], action.samePosts);\r\n        case consts.GET_SAME_POSTS_ERROR:\r\n            return state\r\n                .setIn(['samePosts', 'waiting'], false)\r\n                .setIn(['samePosts', 'error'], action.error)\r\n                .setIn(['samePosts', 'data'], false);\r\n        case consts.GET_LATEST_POSTS_REQUEST:\r\n            return state\r\n                .setIn(['latestPosts', 'waiting'], true)\r\n                .setIn(['latestPosts', 'error'], false);\r\n        case consts.GET_LATEST_POSTS_SUCCESS:\r\n            return state\r\n                .setIn(['latestPosts', 'waiting'], false)\r\n                .setIn(['latestPosts', 'error'], false)\r\n                .setIn(['latestPosts', 'data'], action.latestPosts);\r\n        case consts.GET_LATEST_POSTS_ERROR:\r\n            return state\r\n                .setIn(['latestPosts', 'waiting'], false)\r\n                .setIn(['latestPosts', 'error'], action.error)\r\n                .setIn(['latestPosts', 'data'], false);\r\n        case consts.GET_SELECTED_POST_REQUEST:\r\n            return state\r\n                .setIn(['post', 'waiting'], true)\r\n                .setIn(['post', 'error'], false)\r\n                .set('selectedPost', false);\r\n        case consts.GET_SELECTED_POST_SUCCESS:\r\n            return state\r\n                .setIn(['post', 'waiting'], false)\r\n                .setIn(['post', 'error'], false)\r\n                .setIn(['post', 'data'], action.post)\r\n                .set('selectedPost', action.post);\r\n        case consts.GET_SELECTED_POST_ERROR:\r\n            return state\r\n                .setIn(['post', 'waiting'], false)\r\n                .setIn(['post', 'error'], action.error)\r\n                .setIn(['post', 'data'], false)\r\n                .set('selectedPost', false);\r\n        case consts.RESET_SELECTED_POST:\r\n            return state.setIn(['post', 'data'], false);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { put, call, all, takeLatest } from 'redux-saga/effects';\r\nimport services from '../../services/bloggerAPIs';\r\nimport * as consts from './consts';\r\nimport utils from '../../utils';\r\n\r\nfunction checkLabel(posts) {\r\n    for (let itemIndex in posts.data.items) {\r\n        if (!posts.data.items[itemIndex].labels) {\r\n            posts.data.items.splice(itemIndex, 1);\r\n        }\r\n    }\r\n    return posts;\r\n}\r\n\r\nfunction* getSamePostsSaga({ payload }) {\r\n    try {\r\n        let samePosts = yield call(services.getPosts, payload);\r\n        samePosts = checkLabel(samePosts);\r\n        const postsIncludedImages = utils.getImages(samePosts.data.items);\r\n        const postsIncludedPrice = utils.getPrice(postsIncludedImages);\r\n        const postsIncludedCurrency = utils.getCurrency(postsIncludedPrice);\r\n        const postsIncludedProductInfo = utils.getProductInfo(\r\n            postsIncludedCurrency\r\n        );\r\n        yield all([\r\n            put({\r\n                type: consts.GET_SAME_POSTS_SUCCESS,\r\n                samePosts: postsIncludedProductInfo\r\n            })\r\n        ]);\r\n    } catch (error) {\r\n        yield put({\r\n            type: consts.GET_SAME_POSTS_ERROR,\r\n            error: error.response.data\r\n        });\r\n    }\r\n}\r\n\r\nfunction* getLatestPostsSaga() {\r\n    try {\r\n        let latestPosts = yield call(services.getLatestPost);\r\n        latestPosts = checkLabel(latestPosts);\r\n        const postsIncludedImages = utils.getImages(latestPosts.data.items);\r\n        const postsIncludedPrice = utils.getPrice(postsIncludedImages);\r\n        const postsIncludedCurrency = utils.getCurrency(postsIncludedPrice);\r\n        const postsIncludedProductInfo = utils.getProductInfo(\r\n            postsIncludedCurrency\r\n        );\r\n        yield all([\r\n            put({\r\n                type: consts.GET_LATEST_POSTS_SUCCESS,\r\n                latestPosts: postsIncludedProductInfo\r\n            })\r\n        ]);\r\n    } catch (error) {\r\n        yield put({\r\n            type: consts.GET_LATEST_POSTS_ERROR,\r\n            error: error.response.data\r\n        });\r\n    }\r\n}\r\n\r\nexport function* getSelectedPostSaga({ payload }) {\r\n    try {\r\n        const post = yield call(services.getSelectedPost, payload);\r\n        const postsIncludedImages = utils.getImages([post.data]);\r\n        const postsIncludedPrice = utils.getPrice(postsIncludedImages);\r\n        const postsIncludedCurrency = utils.getCurrency(postsIncludedPrice);\r\n        const postsIncludedProductInfo = utils.getProductInfo(\r\n            postsIncludedCurrency\r\n        );\r\n        yield all([\r\n            put({\r\n                type: consts.GET_SELECTED_POST_SUCCESS,\r\n                post: postsIncludedProductInfo[0]\r\n            })\r\n        ]);\r\n    } catch (error) {\r\n        yield put({\r\n            type: consts.GET_SELECTED_POST_ERROR,\r\n            error: error.response.data\r\n        });\r\n    }\r\n}\r\n\r\nexport default function* root() {\r\n    yield takeLatest(consts.GET_SAME_POSTS_REQUEST, getSamePostsSaga);\r\n    yield takeLatest(consts.GET_SELECTED_POST_REQUEST, getSelectedPostSaga);\r\n    yield takeLatest(consts.GET_LATEST_POSTS_REQUEST, getLatestPostsSaga);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nconst styles = {\r\n    root: {\r\n        flexGrow: 1\r\n    }\r\n};\r\n\r\nfunction LoadingComponent(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <div className={classes.root}>\r\n            <LinearProgress color=\"secondary\" />\r\n        </div>\r\n    );\r\n}\r\n\r\nLoadingComponent.propTypes = {\r\n    classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(LoadingComponent);\r\n"],"sourceRoot":""}